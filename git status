[1mdiff --git a/src/main/java/br/com/zup/estrelas/financas/controller/DespesaController.java b/src/main/java/br/com/zup/estrelas/financas/controller/DespesaController.java[m
[1mindex 72db46f..10887df 100644[m
[1m--- a/src/main/java/br/com/zup/estrelas/financas/controller/DespesaController.java[m
[1m+++ b/src/main/java/br/com/zup/estrelas/financas/controller/DespesaController.java[m
[36m@@ -2,6 +2,7 @@[m [mpackage br.com.zup.estrelas.financas.controller;[m
 [m
 [m
 import java.util.List;[m
[32m+[m[32mimport java.util.Optional;[m
 import org.springframework.beans.factory.annotation.Autowired;[m
 import org.springframework.http.MediaType;[m
 import org.springframework.web.bind.annotation.DeleteMapping;[m
[36m@@ -10,11 +11,13 @@[m [mimport org.springframework.web.bind.annotation.PathVariable;[m
 import org.springframework.web.bind.annotation.PostMapping;[m
 import org.springframework.web.bind.annotation.PutMapping;[m
 import org.springframework.web.bind.annotation.RequestBody;[m
[32m+[m[32mimport org.springframework.web.bind.annotation.RequestParam;[m
 import org.springframework.web.bind.annotation.RestController;[m
 import br.com.zup.estrelas.financas.dto.AtualizaDespesaDto;[m
 import br.com.zup.estrelas.financas.dto.CriaDespesaDTO;[m
 import br.com.zup.estrelas.financas.dto.DespesaDTO;[m
 import br.com.zup.estrelas.financas.entity.Despesa;[m
[32m+[m[32mimport br.com.zup.estrelas.financas.enums.TipoDespesa;[m
 import br.com.zup.estrelas.financas.exceptions.DespesaOuUsuarioNullException;[m
 import br.com.zup.estrelas.financas.service.DespesaService;[m
 [m
[36m@@ -37,12 +40,6 @@[m [mpublic class DespesaController {[m
         return despesaService.buscaDespesa(idUsuario, idDespesa);[m
     }[m
 [m
[31m-    @GetMapping(path = "/usuarios/{idUsuario}/despesas",[m
[31m-            produces = {MediaType.APPLICATION_JSON_VALUE})[m
[31m-    public List<DespesaDTO> listaDespesas(@PathVariable Long idUsuario) {[m
[31m-        return (List<DespesaDTO>) despesaService.listaDespesas(idUsuario);[m
[31m-    }[m
[31m-[m
     @DeleteMapping(path = "/usuarios/{idUsuario}/despesas/{idDespesa}",[m
             produces = {MediaType.APPLICATION_JSON_VALUE})[m
     public void deletaDespesa(@PathVariable Long idUsuario, @PathVariable Long idDespesa)[m
[36m@@ -63,4 +60,9 @@[m [mpublic class DespesaController {[m
     public List<Despesa> despesasAvencerNoMes(@PathVariable Long idUsuario) {[m
         return (List<Despesa>) despesaService.despesasAVencerNoMes(idUsuario);[m
     }[m
[32m+[m[41m    [m
[32m+[m[32m    @GetMapping(path = "/usuarios/{idUsuario}/despesas")[m
[32m+[m[32m    public List<DespesaDTO> buscaPorTipoDespesa(@PathVariable Long idUsuario, @RequestParam(value = "tipo-de-despesa")Optional<TipoDespesa> tipoDeDespesa) {[m
[32m+[m[32m        return despesaService.buscaPorTipoDespesa(idUsuario, tipoDeDespesa);[m
[32m+[m[32m    }[m
 }[m
[1mdiff --git a/src/main/java/br/com/zup/estrelas/financas/repository/DespesaRepository.java b/src/main/java/br/com/zup/estrelas/financas/repository/DespesaRepository.java[m
[1mindex 83128e0..40f9360 100644[m
[1m--- a/src/main/java/br/com/zup/estrelas/financas/repository/DespesaRepository.java[m
[1m+++ b/src/main/java/br/com/zup/estrelas/financas/repository/DespesaRepository.java[m
[36m@@ -6,6 +6,7 @@[m [mimport java.util.Optional;[m
 import org.springframework.data.jpa.repository.JpaRepository;[m
 import org.springframework.stereotype.Repository;[m
 import br.com.zup.estrelas.financas.entity.Despesa;[m
[32m+[m[32mimport br.com.zup.estrelas.financas.enums.TipoDespesa;[m
 [m
 [m
 @Repository[m
[36m@@ -17,5 +18,7 @@[m [mpublic interface DespesaRepository extends JpaRepository<Despesa, Long> {[m
     List<Despesa> findAllByIdUsuario(Long idUsuario);[m
 [m
     Optional<Despesa> findByIdUsuarioAndIdDespesa(Long idUsuario, Long idDespesa);[m
[32m+[m[41m [m
[32m+[m[32m    List<Despesa> findAllByIdUsuarioAndTipoDeDespesa(Long idUsuario, Optional<TipoDespesa> tipoDeDespesa);[m
 [m
 }[m
[1mdiff --git a/src/main/java/br/com/zup/estrelas/financas/service/DespesaService.java b/src/main/java/br/com/zup/estrelas/financas/service/DespesaService.java[m
[1mindex 12486c4..e4db990 100644[m
[1m--- a/src/main/java/br/com/zup/estrelas/financas/service/DespesaService.java[m
[1m+++ b/src/main/java/br/com/zup/estrelas/financas/service/DespesaService.java[m
[36m@@ -4,6 +4,7 @@[m [mimport java.time.LocalDate;[m
 import java.time.YearMonth;[m
 import java.util.ArrayList;[m
 import java.util.List;[m
[32m+[m[32mimport java.util.Optional;[m
 import org.springframework.beans.factory.annotation.Autowired;[m
 import org.springframework.stereotype.Service;[m
 import br.com.zup.estrelas.financas.dto.AtualizaDespesaDto;[m
[36m@@ -97,4 +98,25 @@[m [mpublic class DespesaService {[m
 [m
         return this.repository.findAllByIdUsuarioAndVencimentoBetween(idUsuario, inicioMes, fimMes);[m
     }[m
[32m+[m
[32m+[m[32m    public List<DespesaDTO> buscaPorTipoDespesa(Long idUsuario, Optional<TipoDespesa> tipoDeDespesa) {[m
[32m+[m[41m        [m
[32m+[m[32m        if(tipoDeDespesa.isPresent()) {[m
[32m+[m[32m            List<Despesa> listaDespesa = repository.findAllByIdUsuarioAndTipoDeDespesa(idUsuario, tipoDeDespesa);[m
[32m+[m[32m            List<DespesaDTO> listaDespesaDtoFiltrada = new ArrayList<DespesaDTO>();[m
[32m+[m
[32m+[m[32m            for (Despesa despesa : listaDespesa) {[m
[32m+[m[32m                listaDespesaDtoFiltrada.add(DespesaDTO.fromDespesa(despesa));[m
[32m+[m[32m            }[m
[32m+[m[32m            return listaDespesaDtoFiltrada;[m
[32m+[m[32m        }[m
[32m+[m[41m        [m
[32m+[m[32m        List<Despesa> listaDeDespesa = this.repository.findAll();[m
[32m+[m[32m        List<DespesaDTO> listaDespesaDto = new ArrayList<DespesaDTO>();[m
[32m+[m
[32m+[m[32m        for (Despesa despesa : listaDeDespesa) {[m
[32m+[m[32m            listaDespesaDto.add(DespesaDTO.fromDespesa(despesa));[m
[32m+[m[32m        }[m
[32m+[m[32m        return listaDespesaDto;[m
[32m+[m[32m    }[m
 }[m
